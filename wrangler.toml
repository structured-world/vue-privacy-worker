# Cloudflare Worker: Vue Privacy - Consent Storage for GDPR compliance
# Companion worker for @structured-world/vue-privacy package
name = "vue-privacy-worker"
main = "src/index.ts"
compatibility_date = "2024-12-01"

# Routes - add domains that use consent storage
# Each domain gets its own KV prefix for isolation
routes = [
  { pattern = "example.com/api/consent", zone_name = "example.com" }
]

# KV namespace for consent storage (365 days TTL)
# Create: wrangler kv:namespace create CONSENT_KV
[[kv_namespaces]]
binding = "CONSENT_KV"
id = "REPLACE_WITH_KV_NAMESPACE_ID"
